# 🚀 快速开始 - RealMan RM75 机械臂调试

## 一键安装和测试

### 方法一：自动化脚本（推荐）

```bash
cd /home/psibot/Documents/psibot_control
./setup_and_test.sh
```

这个脚本会自动完成：
- ✅ 检查Conda安装
- ✅ 创建/激活psibot环境
- ✅ 安装所有依赖
- ✅ 配置环境变量
- ✅ 检查硬件连接
- ✅ 提供测试选项

### 方法二：手动配置

如果自动脚本有问题，可以手动执行：

```bash
# 1. 创建环境
conda create -n psibot python=3.10 -y
conda activate psibot

# 2. 安装依赖
cd /home/psibot/Documents/psibot_control
pip install -r requirements.txt

# 3. 配置库路径
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$(pwd)/robot_libs/lib

# 4. 测试连接
python test_arm_simple.py
```

## 🔧 硬件准备清单

在开始之前，请确保：

- [ ] 机械臂已上电
- [ ] 网线已连接到控制器
- [ ] 左臂IP: 192.168.100.100 可以ping通
- [ ] 右臂IP: 192.168.100.101 可以ping通
- [ ] 机械臂周围空间安全，无障碍物

### 检查网络连接

```bash
# 测试左臂
ping 192.168.100.100 -c 3

# 测试右臂  
ping 192.168.100.101 -c 3
```

如果ping不通，需要配置电脑的网络为同一网段（例如：192.168.100.10）

## 📝 测试程序说明

### 1️⃣ test_arm_simple.py - 简单连接测试（推荐首次使用）

**功能：** 测试机械臂连接，读取状态，不进行运动

```bash
python test_arm_simple.py
```

**输出：**
- 连接状态
- 当前7个关节角度（弧度和角度）
- 末端执行器位姿

**安全性：** ⭐⭐⭐⭐⭐ （不会运动，完全安全）

### 2️⃣ get_joint.py - 读取关节角度

**功能：** 同时连接左右臂，读取当前关节角度

```bash
python get_joint.py
```

**输出：**
- 左臂7个关节角度
- 右臂7个关节角度

**安全性：** ⭐⭐⭐⭐⭐ （不会运动，完全安全）

### 3️⃣ begin.py - 基本运动测试

**功能：** 初始化机械臂并移动到预设位置

```bash
python begin.py
```

**⚠️ 警告：** 
- 机械臂会运动！
- 确保周围无人和障碍物
- 准备好急停按钮

**安全性：** ⭐⭐⭐ （会运动，需要注意安全）

### 4️⃣ control.py - 完整系统（示教与重放）

**功能：** 完整的示教和重放系统，包含数据采集

```bash
python control.py
```

**⚠️ 警告：** 
- 复杂操作，建议熟悉系统后再使用
- 会记录和回放运动轨迹

**安全性：** ⭐⭐ （复杂操作，需要熟练操作）

## 🎯 推荐的测试顺序

### 第一天：熟悉系统

```bash
# Step 1: 运行自动安装脚本
./setup_and_test.sh
# 选择选项 1 (简单测试)

# Step 2: 测试单个机械臂
python test_arm_simple.py
# 选择 2 (单臂测试)
# 选择 1 (测试左臂)

# Step 3: 测试另一个机械臂
python test_arm_simple.py
# 选择 2 (单臂测试)
# 选择 2 (测试右臂)

# Step 4: 同时读取双臂
python get_joint.py
```

### 第二天：测试运动

```bash
# Step 1: 确保环境已激活
conda activate psibot
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$(pwd)/robot_libs/lib

# Step 2: 运行基本运动测试
python begin.py
```

### 第三天：开发应用

根据需求修改代码或开发新功能

## ❓ 常见问题速查

| 问题 | 可能原因 | 解决方法 |
|------|---------|---------|
| libRM_Base.so not found | 环境变量未设置 | `export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$(pwd)/robot_libs/lib` |
| SOCKET_CONNECT_ERR | 网络未连接 | 检查网线和IP配置，ping测试 |
| Permission denied: ttyUSB | 串口权限不足 | `sudo chmod 666 /dev/ttyUSB*` |
| 机械臂不动 | 系统错误 | 调用 `arm.robot.Clear_System_Err()` |

## 📚 详细文档

更详细的说明请参考：
- `SETUP_GUIDE.md` - 完整配置指南
- `test_arm_simple.py` - 源码中有详细注释

## 💡 快捷命令（可选配置）

将以下内容添加到 `~/.bashrc`：

```bash
# RealMan机械臂快捷命令
alias psibot='cd /home/psibot/Documents/psibot_control && conda activate psibot && export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$(pwd)/robot_libs/lib'
alias test-arm='psibot && python test_arm_simple.py'
alias read-joint='psibot && python get_joint.py'
```

然后运行 `source ~/.bashrc`

之后可以直接使用：
```bash
psibot        # 进入项目目录并激活环境
test-arm      # 快速测试机械臂
read-joint    # 快速读取关节角度
```

## 🎉 开始使用

现在你可以开始了！建议从最简单的测试开始：

```bash
cd /home/psibot/Documents/psibot_control
./setup_and_test.sh
```

祝调试顺利！🚀

